<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-toggle-button/paper-toggle-button.html">

<polymer-element name="mqtt-subscriber" attributes="topic">
    <template>
        <div layout horizontal center>
            <h4>subscribed to topic: {{topic}}</h4>
            <p>value : {{value}}</p>
        </div>
    </template>
    <script>
        Polymer("mqtt-subscriber", {
            created: function () {
                //this.checked = false;
                var parent = document.querySelector('mqtt-parent');
                parent.addEventListener('receive-message', this.interpret.bind(this));
            },
            interpret: function (message) {
                console.log(message.detail);
            },
        });
    </script>
</polymer-element>