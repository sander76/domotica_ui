<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel=import href="mqtt-service.html">
<link rel=import href="subscriber.html">
<link rel=import href="subscriber-toggle.html">
<!--<polymer-element name="mqtt-parent" attributes="topics">-->
<dom-module>
    <template>
        <template is="dom-repeat" items="{{topics}}">>
            <template is="dom-if" if="{{item.ui_type==='toggle'}}">
                <mqtt-subscriber-toggle topic="{{t}}"></mqtt-subscriber-toggle>
            </template>
            <template is="dom-if" if="{{item.ui_type==='temp'}}">
                <mqtt-subscriber topic="{{t}}"></mqtt-subscriber>
            </template>
        </template>

    </template>

</dom-module>

<script>
    Polymer({
        is: "mqtt-parent",

        properties: {
            topics: {
                type: Array,
                value: []
            }
        },

        ready: function () {
            for (var i = 0; i < this.topics.length; i++) {
                console.log("topic: " + this.topics[i].name);
            }
        }

    });
</script>
<!--</polymer-element>-->